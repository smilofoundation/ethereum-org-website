(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{251:function(e,t,o){"use strict";o.r(t);var a=o(0),i=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h2",{attrs:{id:"interface-details"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#interface-details","aria-hidden":"true"}},[e._v("↳")]),e._v(" Interface Details")]),e._v(" "),o("p",[e._v("All interfaces can be set to run over HTTP, GRPC or HTTP-over-Unix-Sockets.")]),e._v(" "),o("h3",{attrs:{id:"grpc-for-inter-node-communication-deprecated"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#grpc-for-inter-node-communication-deprecated","aria-hidden":"true"}},[e._v("↳")]),e._v(" gRPC for inter-node communication (Deprecated)")]),e._v(" "),o("p",[e._v("We currently have an implementation of gRPC for peer node communication as experiment API. This is not enabled on Smilo yet, but between Blackbox nodes they can be enabled by adding in a couple of properties in the configuration file as child elements of "),o("code",[e._v("serverConfig")]),e._v(".")]),e._v(" "),o("ul",[o("li",[o("p",[o("code",[e._v("grpcPort")]),e._v(" - when this value is specified, Blackbox node will start a gRPC server listening on this port. The normal "),o("code",[e._v("port")]),e._v(" value would still be used for starting REST server.")])]),e._v(" "),o("li",[o("p",[o("code",[e._v("communicationType")]),e._v(" - possible values are "),o("code",[e._v("REST")]),e._v(", "),o("code",[e._v("GRPC")]),e._v(". Default value is "),o("code",[e._v("REST")]),e._v(".")])])]),e._v(" "),o("p",[e._v("Please note that communication between Smilo and Blackbox are still via unix socket. This communication flag provides additional options for Blackbox peer-to-peer communication. If gRPC is the option specified, please ensure the peers urls are provided with the appropriate ports.")]),e._v(" "),o("p",[e._v("!!! info\ngRPC as a protocol for peer-to-peer communication will be removed from Blackbox version 0.10.2")]),e._v(" "),o("hr"),e._v(" "),o("h3",{attrs:{id:"blackbox-to-blackbox-public-api"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#blackbox-to-blackbox-public-api","aria-hidden":"true"}},[e._v("↳")]),e._v(" Blackbox to Blackbox - Public API")]),e._v(" "),o("p",[e._v("Blackbox nodes communicate with each other for:")]),e._v(" "),o("ul",[o("li",[e._v("Node/network discovery")]),e._v(" "),o("li",[e._v("Sending/Receiving encrypted payloads")])]),e._v(" "),o("p",[e._v("The following endpoints are advertised on this interface:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("/version")])]),e._v(" "),o("li",[o("code",[e._v("/upcheck")])]),e._v(" "),o("li",[o("code",[e._v("/push")])]),e._v(" "),o("li",[o("code",[e._v("/resend")])]),e._v(" "),o("li",[o("code",[e._v("/partyinfo")])]),e._v(" "),o("li",[o("code",[e._v("/partyinfo/validate")])])]),e._v(" "),o("h3",{attrs:{id:"third-party-public-api"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#third-party-public-api","aria-hidden":"true"}},[e._v("↳")]),e._v(" Third Party - Public API")]),e._v(" "),o("p",[e._v("Blackbox nodes communicate with third parties for:")]),e._v(" "),o("ul",[o("li",[e._v("storing encrypted payloads for external applications")])]),e._v(" "),o("p",[e._v("The following endpoints are advertised on this interface:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("/version")])]),e._v(" "),o("li",[o("code",[e._v("/upcheck")])]),e._v(" "),o("li",[o("code",[e._v("/storeraw")])]),e._v(" "),o("li",[o("code",[e._v("/keys")])]),e._v(" "),o("li",[o("code",[e._v("/partyinfo/keys")])])]),e._v(" "),o("h3",{attrs:{id:"smilo-to-blackbox-private-api"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#smilo-to-blackbox-private-api","aria-hidden":"true"}},[e._v("↳")]),e._v(" Smilo to Blackbox - Private API")]),e._v(" "),o("p",[e._v("Smilo uses this API to:")]),e._v(" "),o("ul",[o("li",[e._v("Check if the local Blackbox node is running")]),e._v(" "),o("li",[e._v("Send and receive details of private transactions")])]),e._v(" "),o("p",[e._v("The following endpoints are advertised on this interface:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("/version")])]),e._v(" "),o("li",[o("code",[e._v("/upcheck")])]),e._v(" "),o("li",[o("code",[e._v("/sendraw")])]),e._v(" "),o("li",[o("code",[e._v("/send")])]),e._v(" "),o("li",[o("code",[e._v("/receiveraw")])]),e._v(" "),o("li",[o("code",[e._v("/receive")])]),e._v(" "),o("li",[o("code",[e._v("/storeraw")])]),e._v(" "),o("li",[o("code",[e._v("/sendsignedtx")])]),e._v(" "),o("li",[o("code",[e._v("/transaction/{key}/isSender")])]),e._v(" "),o("li",[o("code",[e._v("/transaction/{key}/participants")])])]),e._v(" "),o("h3",{attrs:{id:"admin-api"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#admin-api","aria-hidden":"true"}},[e._v("↳")]),e._v(" Admin API")]),e._v(" "),o("p",[e._v("Admins should use this API to:")]),e._v(" "),o("ul",[o("li",[e._v("Access information about the Blackbox node")]),e._v(" "),o("li",[e._v("Make changes to the configuration of the Blackbox node")])]),e._v(" "),o("p",[e._v("The following endpoints are advertised on this API:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("/peers")]),e._v(" - Add to, and retrieve from, the Blackbox node's peers list")])]),e._v(" "),o("h2",{attrs:{id:"api-details"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#api-details","aria-hidden":"true"}},[e._v("↳")]),e._v(" API Details")]),e._v(" "),o("p",[o("strong",[o("code",[e._v("version")])]),e._v(" - "),o("em",[e._v("Get Blackbox version")])]),e._v(" "),o("ul",[o("li",[e._v("Returns the version of Blackbox that is running.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("upcheck")])]),e._v(" - "),o("em",[e._v("Check Blackbox node is running")])]),e._v(" "),o("ul",[o("li",[e._v('Returns the text "I\'m up!"')])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("push")])]),e._v(" - "),o("em",[e._v("Push transactions between nodes")])]),e._v(" "),o("ul",[o("li",[e._v("Persist encrypted payload received from another node.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("resend")])]),e._v(" - "),o("em",[e._v("Resend transaction")])]),e._v(" "),o("ul",[o("li",[e._v("Resend all transactions for given key or given hash/recipient.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("partyinfo")])]),e._v(" - "),o("em",[e._v("Retrieve details of known nodes")])]),e._v(" "),o("ul",[o("li",[e._v("GET: Request public keys/url of all known peer nodes.")]),e._v(" "),o("li",[e._v("POST: accepts a stream that contains the caller node's network information, and returns a merged copy with the callee node's network information")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("partyinfo/validate")])]),e._v(" - "),o("em",[e._v("Validates a node possesses a key")])]),e._v(" "),o("ul",[o("li",[e._v("Will request a node to decrypt a transaction in order to prove that it has access to the private part of its advertised public key.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("sendraw")])]),e._v(" - "),o("em",[e._v("Send transaction bytestring")])]),e._v(" "),o("ul",[o("li",[e._v("Send transaction payload bytestring from Smilo to Blackbox node. Blackbox sends the transaction hash in the response back.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("send")])]),e._v(" - "),o("em",[e._v("Send transaction bytestring")])]),e._v(" "),o("ul",[o("li",[e._v("Similar to sendraw however request payload is in json format. Please see our "),o("a",{attrs:{href:"https://smilofoundation.github.io/Blackbox-swagger/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Swagger documentation"),o("OutboundLink")],1),e._v(" for object model.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("storeraw")])]),e._v(" - "),o("em",[e._v("Store transaction bytestring")])]),e._v(" "),o("ul",[o("li",[e._v("Store transaction bytestring from a third party to Blackbox node. Blackbox sends the transaction hash in the response back.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("sendsignedtx")])]),e._v(" - "),o("em",[e._v("Distribute signed transaction payload")])]),e._v(" "),o("ul",[o("li",[e._v("Send transaction payload identified by hash (returned by storeraw) from Smilo to Blackbox node. Blackbox sends the transaction hash in the response back.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("receiveraw")])]),e._v(" - "),o("em",[e._v("Receive transaction bytestring")])]),e._v(" "),o("ul",[o("li",[e._v("Receive decrypted bytestring of the transaction payload from Blackbox to Smilo for transactions it is party to.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("receive")])]),e._v(" - "),o("em",[e._v("Receive transaction bytestring")])]),e._v(" "),o("ul",[o("li",[e._v("Similar to receiveraw however request payload is in json format. Please see our "),o("a",{attrs:{href:"https://smilofoundation.github.io/Blackbox-swagger/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Swagger documentation"),o("OutboundLink")],1),e._v(" for object model.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("delete")])]),e._v(" - "),o("em",[e._v("Delete a transaction")])]),e._v(" "),o("ul",[o("li",[e._v("Delete hashed encrypted payload stored in Blackbox nodes.")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("/transaction/{key}/isSender")])]),e._v(" - "),o("em",[e._v("Determine if a node is the sender")])]),e._v(" "),o("ul",[o("li",[e._v("Tell if the local enclave is the sender of a particular transaction (by checking if the sender public key is part of the nodes enclave)")])]),e._v(" "),o("p",[o("strong",[o("code",[e._v("/transaction/{key}/participants")])]),e._v(" - "),o("em",[e._v("Retrieve participants")])]),e._v(" "),o("ul",[o("li",[e._v("Retrieve transaction participants directly from the database (a recipient will have no participants)")])]),e._v(" "),o("p",[e._v("For more interactions with the API see the "),o("a",{attrs:{href:"https://smilofoundation.github.io/Blackbox-swagger/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Swagger documentation"),o("OutboundLink")],1),e._v(".")])])}),[],!1,null,null,null);t.default=i.exports}}]);