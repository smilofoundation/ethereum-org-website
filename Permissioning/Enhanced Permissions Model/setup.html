<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Set up | Smilo</title>
    <meta name="description" content="">
    <meta/ name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,maximum-scale=1"></meta/>
  <link rel="icon" type="image/png" href="/favicon.png">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="smilo.foundation">
  <meta property="og:url" content="https://smilo.foundation">
  <meta property="og:image" content="https://smilo.foundation/og-image.png">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:site" content="@smiloplatform">
  <meta property="twitter:creator" content="@smiloplatform">
  <meta property="twitter:image" content="https://smilo.foundation/og-image-twitter.png">
    <link rel="preload" href="/assets/css/0.styles.77284882.css" as="style"><link rel="preload" href="/assets/js/app.1c5a03b7.js" as="script"><link rel="preload" href="/assets/js/3.030594d3.js" as="script"><link rel="preload" href="/assets/js/43.e88d32e5.js" as="script"><link rel="prefetch" href="/assets/js/10.6e3e9273.js"><link rel="prefetch" href="/assets/js/100.54f82e92.js"><link rel="prefetch" href="/assets/js/101.0d7e4727.js"><link rel="prefetch" href="/assets/js/102.e09888c2.js"><link rel="prefetch" href="/assets/js/103.12c4db4a.js"><link rel="prefetch" href="/assets/js/104.917d85b3.js"><link rel="prefetch" href="/assets/js/105.2c8a97c2.js"><link rel="prefetch" href="/assets/js/106.137429f1.js"><link rel="prefetch" href="/assets/js/107.3dd3c2b0.js"><link rel="prefetch" href="/assets/js/108.ae0d09f1.js"><link rel="prefetch" href="/assets/js/109.05199ced.js"><link rel="prefetch" href="/assets/js/11.f4ce1d53.js"><link rel="prefetch" href="/assets/js/110.72857918.js"><link rel="prefetch" href="/assets/js/111.5c9c5ec1.js"><link rel="prefetch" href="/assets/js/112.4b4aa971.js"><link rel="prefetch" href="/assets/js/113.467b4f39.js"><link rel="prefetch" href="/assets/js/114.e37bc94a.js"><link rel="prefetch" href="/assets/js/115.e2033c8c.js"><link rel="prefetch" href="/assets/js/116.0f3bb3de.js"><link rel="prefetch" href="/assets/js/117.97f66c3d.js"><link rel="prefetch" href="/assets/js/118.61cc124c.js"><link rel="prefetch" href="/assets/js/119.70620c50.js"><link rel="prefetch" href="/assets/js/12.068e04f8.js"><link rel="prefetch" href="/assets/js/120.43a34ff2.js"><link rel="prefetch" href="/assets/js/121.80ec60ad.js"><link rel="prefetch" href="/assets/js/122.f38284d1.js"><link rel="prefetch" href="/assets/js/123.1dc518a3.js"><link rel="prefetch" href="/assets/js/124.5765d2e5.js"><link rel="prefetch" href="/assets/js/125.c734c24f.js"><link rel="prefetch" href="/assets/js/126.79b78b84.js"><link rel="prefetch" href="/assets/js/127.25ff388a.js"><link rel="prefetch" href="/assets/js/128.1496ac92.js"><link rel="prefetch" href="/assets/js/129.4e04e6cc.js"><link rel="prefetch" href="/assets/js/13.bda859e5.js"><link rel="prefetch" href="/assets/js/130.f107b701.js"><link rel="prefetch" href="/assets/js/131.08b783f2.js"><link rel="prefetch" href="/assets/js/14.2a400896.js"><link rel="prefetch" href="/assets/js/15.295d62fc.js"><link rel="prefetch" href="/assets/js/16.652a89b0.js"><link rel="prefetch" href="/assets/js/17.3be5eda0.js"><link rel="prefetch" href="/assets/js/18.32454e69.js"><link rel="prefetch" href="/assets/js/19.a08feb93.js"><link rel="prefetch" href="/assets/js/2.4b1d4bf3.js"><link rel="prefetch" href="/assets/js/20.34e166bb.js"><link rel="prefetch" href="/assets/js/21.1d2ef408.js"><link rel="prefetch" href="/assets/js/22.2a6cd144.js"><link rel="prefetch" href="/assets/js/23.5adcd431.js"><link rel="prefetch" href="/assets/js/24.9bccf9d1.js"><link rel="prefetch" href="/assets/js/25.d8fd4102.js"><link rel="prefetch" href="/assets/js/26.40635db2.js"><link rel="prefetch" href="/assets/js/27.9a5f2d44.js"><link rel="prefetch" href="/assets/js/28.2d385e7d.js"><link rel="prefetch" href="/assets/js/29.da082ef6.js"><link rel="prefetch" href="/assets/js/30.73aec03b.js"><link rel="prefetch" href="/assets/js/31.f86eee3a.js"><link rel="prefetch" href="/assets/js/32.46e321e1.js"><link rel="prefetch" href="/assets/js/33.e63e33f3.js"><link rel="prefetch" href="/assets/js/34.1d8e044f.js"><link rel="prefetch" href="/assets/js/35.af094489.js"><link rel="prefetch" href="/assets/js/36.fd9805c3.js"><link rel="prefetch" href="/assets/js/37.7a620d2c.js"><link rel="prefetch" href="/assets/js/38.eac140f8.js"><link rel="prefetch" href="/assets/js/39.3a26a316.js"><link rel="prefetch" href="/assets/js/4.9ea4066c.js"><link rel="prefetch" href="/assets/js/40.c0974fab.js"><link rel="prefetch" href="/assets/js/41.62cd62ac.js"><link rel="prefetch" href="/assets/js/42.20944c6a.js"><link rel="prefetch" href="/assets/js/44.9d1312b3.js"><link rel="prefetch" href="/assets/js/45.e68f16da.js"><link rel="prefetch" href="/assets/js/46.20ba1095.js"><link rel="prefetch" href="/assets/js/47.37709ee2.js"><link rel="prefetch" href="/assets/js/48.d96ab555.js"><link rel="prefetch" href="/assets/js/49.59fb3a5d.js"><link rel="prefetch" href="/assets/js/5.9c269fae.js"><link rel="prefetch" href="/assets/js/50.dd2320c1.js"><link rel="prefetch" href="/assets/js/51.99326924.js"><link rel="prefetch" href="/assets/js/52.2f8bdcae.js"><link rel="prefetch" href="/assets/js/53.b65c9b3b.js"><link rel="prefetch" href="/assets/js/54.8f1c1e12.js"><link rel="prefetch" href="/assets/js/55.abe1f4b6.js"><link rel="prefetch" href="/assets/js/56.1b79c9a4.js"><link rel="prefetch" href="/assets/js/57.97bf7386.js"><link rel="prefetch" href="/assets/js/58.eab2d512.js"><link rel="prefetch" href="/assets/js/59.dc4064e5.js"><link rel="prefetch" href="/assets/js/6.530b08db.js"><link rel="prefetch" href="/assets/js/60.6c9bd626.js"><link rel="prefetch" href="/assets/js/61.7d3b7f84.js"><link rel="prefetch" href="/assets/js/62.0a97fcb0.js"><link rel="prefetch" href="/assets/js/63.15d50454.js"><link rel="prefetch" href="/assets/js/64.9fe77f7e.js"><link rel="prefetch" href="/assets/js/65.d0f3dc77.js"><link rel="prefetch" href="/assets/js/66.75f6f323.js"><link rel="prefetch" href="/assets/js/67.997e57cb.js"><link rel="prefetch" href="/assets/js/68.c627100e.js"><link rel="prefetch" href="/assets/js/69.1757e396.js"><link rel="prefetch" href="/assets/js/7.393450db.js"><link rel="prefetch" href="/assets/js/70.4fead485.js"><link rel="prefetch" href="/assets/js/71.9d601385.js"><link rel="prefetch" href="/assets/js/72.df61f604.js"><link rel="prefetch" href="/assets/js/73.1ba6adec.js"><link rel="prefetch" href="/assets/js/74.dae5c946.js"><link rel="prefetch" href="/assets/js/75.ed1750af.js"><link rel="prefetch" href="/assets/js/76.23271b77.js"><link rel="prefetch" href="/assets/js/77.8f47131e.js"><link rel="prefetch" href="/assets/js/78.49a99228.js"><link rel="prefetch" href="/assets/js/79.66c05d68.js"><link rel="prefetch" href="/assets/js/8.afe1cb0f.js"><link rel="prefetch" href="/assets/js/80.14ebffb1.js"><link rel="prefetch" href="/assets/js/81.f69d7b2b.js"><link rel="prefetch" href="/assets/js/82.79ac4d75.js"><link rel="prefetch" href="/assets/js/83.5551e100.js"><link rel="prefetch" href="/assets/js/84.9d9dd0e5.js"><link rel="prefetch" href="/assets/js/85.41e7de0a.js"><link rel="prefetch" href="/assets/js/86.5ada016f.js"><link rel="prefetch" href="/assets/js/87.5cf495b9.js"><link rel="prefetch" href="/assets/js/88.2ac2cd3b.js"><link rel="prefetch" href="/assets/js/89.7816c1f3.js"><link rel="prefetch" href="/assets/js/9.828672e1.js"><link rel="prefetch" href="/assets/js/90.c5ba453d.js"><link rel="prefetch" href="/assets/js/91.257808f3.js"><link rel="prefetch" href="/assets/js/92.0425b893.js"><link rel="prefetch" href="/assets/js/93.caafd925.js"><link rel="prefetch" href="/assets/js/94.190ec2a0.js"><link rel="prefetch" href="/assets/js/95.3fbee9bb.js"><link rel="prefetch" href="/assets/js/96.ced1da5b.js"><link rel="prefetch" href="/assets/js/97.b518b74f.js"><link rel="prefetch" href="/assets/js/98.09a32c0b.js"><link rel="prefetch" href="/assets/js/99.503bd021.js">
    <link rel="stylesheet" href="/assets/css/0.styles.77284882.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="wrapper" data-v-586e078c><header class="header-right flex" data-v-6f1c53dc data-v-586e078c><div class="flex" data-v-6f1c53dc><div class="sidebar-button" data-v-6f1c53dc><svg width="25px" height="20px" viewBox="0 0 25 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" class="icon"><title>Hamburger menu button</title> <g transform="translate(-22.000000, -2.000000)"><g transform="translate(22.000000, 2.545974)"><path d="M24.7714844,0.5 L0,0.5"></path> <path d="M24.7714844,9.72701303 L0,9.72701303"></path> <path d="M24.7714844,18.9540261 L0,18.9540261"></path></g></g></svg> <a href="/" class="home-link router-link-active"><span class="site-name">Smilo</span></a></div> <a href="/" class="router-link-active" data-v-6f1c53dc><img src="/assets/img/ethereum-logo-wireframe.8c2f2894.png" alt="Smilo Logo" class="header-logo sm-hide" data-v-6f1c53dc></a> <nav class="nav-links sm-hide" data-v-6f1c53dc><ul class="nav-ul"><li class="nav-item"><a href="/" class="nav-link">Smilo</a></li><li class="nav-item"><a href="/beginners/" class="nav-link">Beginners</a></li><li class="nav-item"><a href="/use/" class="nav-link">Use</a></li><li class="nav-item"><a href="/learn/" class="nav-link">Learn</a></li><li class="nav-item"><a href="/developers/" class="nav-link">Developers</a></li> <!----></ul></nav></div> <div class="menu inline flex flex-center" data-v-6f1c53dc><div class="search-box" data-v-6f1c53dc><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="https://github.com/smilofoundation/smilo-foundation-website" target="_blank" title="Fork This Page (Github)" data-v-6f1c53dc><img alt="Github" src="/assets/img/icon-github.3720c649.svg" class="hide-dark" data-v-6f1c53dc> <img alt="Github" src="/assets/img/icon-github-white.e05d488b.svg" class="show-dark" data-v-6f1c53dc></a> <span class="pointer view-mode" data-v-6f1c53dc><img alt="Switch to Dark Mode" src="/assets/img/icon-sun.f0087fa4.svg" class="hide-dark" data-v-6f1c53dc> <img alt="Switch to Light Mode" src="/assets/img/icon-moon.0d522939.svg" class="show-dark" data-v-6f1c53dc></span> <div class="dropdown-wrapper sm-hide" data-v-6f1c53dc><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Permissioning/Enhanced Permissions Model/setup.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/ko/" class="nav-link">Korean</a></li></ul></div></div></header> <!----> <main class="page" data-v-586e078c><div class="content__default" data-v-586e078c><h1 id="set-up"><a href="#set-up" aria-hidden="true" class="header-anchor">↳</a> Set up</h1> <p>The steps to enable new permissions model are as described below:</p> <h2 id="new-network"><a href="#new-network" aria-hidden="true" class="header-anchor">↳</a> New network</h2> <ul><li>Bring up the initial set of nodes which will be part of the network</li> <li>Deploy the <code>PermissionsUpgradable.sol</code> in the network. The deployment of this contract will require a guardian account to be given as a part of deployment.</li> <li>Deploy the rest of the contracts. All the other contracts will require the address of <code>PermissionsUpgradable.sol</code> contract as a part of deployment.</li> <li>Once all the contracts are deployed create a file <code>permission-config.json</code> which will have the following construct:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;upgradableAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1932c48b2bf8102ba33b4a6b545c32236e342f34&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;interfaceAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x4d3bfd7821e237ffe84209d8e638f9f309865b87&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;implAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xfe0602d820f42800e3ef3f89e1c39cd15f78d283&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nodeMgrAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x8a5e2a6343108babed07899510fb42297938d41f&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accountMgrAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x9d13c6d3afe1721beef56b55d303b09e021e27ab&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;roleMgrAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1349f3e1b8d71effb47b840594ff27da7e603d17&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;voterMgrAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xd9d64b7dc034fafdba5dc2902875a67b5d586420&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orgMgrAddress&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x938781b9796aea6376e40ca158f67fa89d5d8a18&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nwAdminOrg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ADMINORG&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nwAdminRole&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ADMIN&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orgAdminRole&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ORGADMIN&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accounts&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;0xed9d02e382b34818e88b88a309c7fe71e65f419d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;0xca843569e3427144cead5e4d5999a3d0ccf92b8e&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;subOrgBreadth&quot;</span> <span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;subOrgDepth&quot;</span> <span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><ul><li><code>upgradableAddress</code> is the address of deployed contract <code>PermissionsUpgradable.sol</code></li> <li><code>interfaceAddress</code> is the address of deployed contract <code>PermissionsInterface.sol</code></li> <li><code>implAddress</code> is the address of deployed contract <code>PermissionsImplementation.sol</code></li> <li><code>nodeMgrAddress</code> is the address of deployed contract <code>NodeManager.sol</code></li> <li><code>accountMgrAddress</code> is the address of deployed contract <code>AccountManager.sol</code></li> <li><code>roleMgrAddress</code> is the address of deployed contract <code>RoleManager.sol</code></li> <li><code>voterMgrAddress</code> is the address of deployed contract <code>VoterManager.sol</code></li> <li><code>orgMgrAddress</code> is the address of deployed contract <code>OrgManager.sol</code></li> <li><code>nwAdminOrg</code> is the name of initial organization that will be created as a part of network boot up with new permissions model. This organization will own all the initial nodes which come at the time of network boot up and accounts which will be the network admin account</li> <li><code>nwAdminRole</code> is role id which will have full access and will be network admin. This role will be assigned to the network admin accounts</li> <li><code>orgAdminRole</code> is role id which will have full access and will manage organization level administration activities. This role will be assigned to the org admin account</li> <li><code>accounts</code> holds the initial list of accounts which will be linked to the network admin organization and will be assigned the network admin role. These accounts will have complete control on the network and can propose and approve new organizations into the network</li> <li><code>subOrgBreadth</code> indicates the number of sub organizations that any org can have</li> <li><code>subOrgDepth</code> indicates the maximum depth of sub org hierarchy allowed in the network</li></ul></blockquote> <ul><li>Once the contracts are deployed, <code>init</code> in <code>PermissionsUpgradable.sol</code> need to be executed by the guardian account. This will link the interface and implementation contracts. A sample script for loading the upgradable contract at <code>geth</code> prompt is as given below</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ac <span class="token operator">=</span> eth<span class="token punctuation">.</span>accounts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
web3<span class="token punctuation">.</span>eth<span class="token punctuation">.</span>defaultAccount <span class="token operator">=</span> ac<span class="token punctuation">;</span>
<span class="token keyword">var</span> abi <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;getPermImpl&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;_proposedImpl&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;confirmImplChange&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;getGuardian&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;getPermInterface&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;_permInterface&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;_permImpl&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;init&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;inputs&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;_guardian&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;constructor&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> upgr <span class="token operator">=</span> web3<span class="token punctuation">.</span>eth<span class="token punctuation">.</span><span class="token function">contract</span><span class="token punctuation">(</span>abi<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token string">&quot;0x1932c48b2bf8102ba33b4a6b545c32236e342f34&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// address of the upgradable contracts</span>
<span class="token keyword">var</span> impl <span class="token operator">=</span> <span class="token string">&quot;0xfe0602d820f42800e3ef3f89e1c39cd15f78d283&quot;</span> <span class="token comment">// address of the implementation contracts</span>
<span class="token keyword">var</span> intr <span class="token operator">=</span> <span class="token string">&quot;0x4d3bfd7821e237ffe84209d8e638f9f309865b87&quot;</span> <span class="token comment">// address of the interface contracts</span>
</code></pre></div><ul><li>At <code>geth</code> prompt load the above script after replacing the contract addresses appropriately and execute <code>upgr.init(intr, impl, {from: &lt;guardian account&gt;, gas: 4500000})</code></li> <li>Bring down the all <code>geth</code> nodes in the network and copy <code>permission-config.json</code> into the data directory of each node</li></ul> <h2 id="migrating-from-an-earlier-version"><a href="#migrating-from-an-earlier-version" aria-hidden="true" class="header-anchor">↳</a> Migrating from an earlier version</h2> <p>The following steps needs to be followed when migrating from a earlier version for enabling permissions feature</p> <ul><li>Bring down the running network in the earlier version.</li> <li>The <code>maxCodeSize</code> attribute in <code>genesis.json</code> need to be set to 35. Update <code>genesis.json</code> to reflect the same</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token string">&quot;config&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;homesteadBlock&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;byzantiumBlock&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;chainId&quot;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eip150Block&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eip155Block&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eip150Hash&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eip158Block&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;maxCodeSize&quot;</span> <span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span>
    <span class="token string">&quot;isQuorum&quot;</span><span class="token punctuation">:</span>
</code></pre></div><ul><li>Execute <code>geth --datadir &lt;&lt;data dir path&gt;&gt; init genesis.json</code></li> <li>Bring up the network with latest geth and deploy the contracts as explained earlier in the set up. The rest of the steps will be similar to bringing up a new network</li></ul> <p>!!! Note
* It should be noted that the new permission model will be in force only when <code>permission-config.json</code> is present in data directory. If this file is not there and the node is brought up with <code>--permissioned</code> flag, node level permissions as per the earlier model will be effective.
* Please ensure that <code>maxCodeSize</code> in <code>genesis.json</code> is set to 35</p></div></main> <div class="sidebar" data-v-586e078c><nav class="nav-links"><ul class="nav-ul"><li class="nav-item"><a href="/" class="nav-link">Smilo</a></li><li class="nav-item"><a href="/beginners/" class="nav-link">Beginners</a></li><li class="nav-item"><a href="/use/" class="nav-link">Use</a></li><li class="nav-item"><a href="/learn/" class="nav-link">Learn</a></li><li class="nav-item"><a href="/developers/" class="nav-link">Developers</a></li> <div class="dropdown-wrapper nav-item"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Permissioning/Enhanced Permissions Model/setup.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/ko/" class="nav-link">Korean</a></li></ul></div></ul></nav>  <!----> </div> <footer class="footer" data-v-ca550d00 data-v-586e078c><div class="credits" data-v-ca550d00>
    Artwork by <a href="https://impermanence.co" target="_blank" data-v-ca550d00>Lili Feyerabend</a> feat. <a href="https://ilankatin.com" target="_blank" data-v-ca550d00>ilan katin</a>, <a href="https://linktr.ee/mattiacprodukt" target="_blank" data-v-ca550d00>Mattia Cuttini</a>, <a href="https://oficinastk.github.io" target="_blank" data-v-ca550d00>Oficinas TK</a>, <a href="https://xcopyart.com" target="_blank" data-v-ca550d00>XCOPY</a>.
  </div> <ul data-v-ca550d00><li data-v-ca550d00><a href="https://github.com/smilofoundation" target="_blank" data-v-ca550d00>GitHub</a></li> <li data-v-ca550d00><a href="https://twitter.com/smiloplatform" target="_blank" data-v-ca550d00>Twitter</a></li> <li data-v-ca550d00><a href="https://blog.smilo.foundation/" data-v-ca550d00>Blog</a></li> <li data-v-ca550d00><a href="/privacy-policy/" data-v-ca550d00>Privacy Policy</a></li> <li data-v-ca550d00><a href="/terms-of-use/" data-v-ca550d00>Terms of Use</a></li> <li data-v-ca550d00><a href="/cookie-policy/" data-v-ca550d00>Cookie Policy</a></li> <li data-v-ca550d00><a href="mailto:info@smilo.foundation" data-v-ca550d00>Contact</a></li></ul></footer> <a href="https://hackernoon.com/rethinking-the-identity-of-ethereumorg-l718w347l" target="_blank" data-v-586e078c><button class="announcement" data-v-586e078c>
      Read about the new artwork! <span class="accent" data-v-586e078c>→  More</span></button></a></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1c5a03b7.js" defer></script><script src="/assets/js/3.030594d3.js" defer></script><script src="/assets/js/43.e88d32e5.js" defer></script>
  </body>
</html>
